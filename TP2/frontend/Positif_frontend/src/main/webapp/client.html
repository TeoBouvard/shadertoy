<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Positif</title>
        <meta charset="UTF-8">

        <!-- Librairie Javascript: jQuery (v3.3.1) -->
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

        <!--<link rel="stylesheet" type="text/CSS" href="stylesheet.css">-->

    </head>

    <body>
        <div id="description">
            <label id="nom-client"></label><br>
            <label id="prenom-client"></label><br>

            <button id="bouton-accueil" class="joli-bouton" disabled> <b> Accueil </b> </button><br>
            <button id="bouton-profil" class="joli-bouton"  onclick="location.href = '';"> <b> Profil Astro </b> </button><br>
            <button id="bouton-historique" class="joli-bouton"> <b> Historique </b> </button><br>
            <button id="bouton-deconnecter" class="joli-bouton"> <b> Se déconnecter </b> </button><br>
        </div>

        <div>
            <ul id="liste-medium">

            </ul>
        </div>



        <script>
            $(document).ready(function () {
                GetInfoClient();
                GetListMedium();
            });

            function GetInfoClient()
            {
                $.ajax({
                    url: './ActionServlet', // URL
                    method: 'POST', // Méthode
                    data: {// Paramètres
                        todo: 'infos-client'
                    },
                    dataType: 'json'        // Type de retour attendu
                }).done(function (response) {
                    $('#nom-client').html(response.nom);
                    $('#prenom-client').html(response.prenom);
                })
            }

            function GetListMedium()
            {
                $.ajax({
                    url: './ActionServlet', // URL
                    method: 'POST', // Méthode
                    data: {// Paramètres
                        todo: 'liste-medium'
                    },
                    dataType: 'json'        // Type de retour attendu
                }).done(function (response) {
                    $.each(response.listemedium, function (i, medium) {
                        $("#liste-medium").append("<li onclick=\"afficherMedium("+ medium.id +");\">" + medium.nom + " " + medium.type + "</li>");
                    })
                })
            }
            
            function afficherMedium(id)
            {
                $.ajax({
                    url: './ActionServlet', // URL
                    method: 'POST', // Méthode
                    data: {// Paramètres
                        todo: 'infos-medium'
                    },
                    dataType: 'json'        // Type de retour attendu
                }).done(function (response) {
                    
                })
            }
            

        </script>
    </body>

</html>